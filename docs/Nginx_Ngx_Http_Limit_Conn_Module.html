<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Nginx_Ngx_Http_Limit_Conn_Module</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Nginx_Ngx_Http_Limit_Conn_Module.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Nginx_Ngx_Http_Limit_Conn_Module</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:limit_conn">limit_conn</a> :: [Text] -&gt; ConfStatement</li><li class="src short"><a href="#v:limit_conn_s">limit_conn_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn">Limit_Conn</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Limit_Conn">Limit_Conn</a> = <a href="#v:Limit_Conn">Limit_Conn</a> ConfStatement</li><li class="src short"><a href="#v:limit_conn_log_level">limit_conn_log_level</a> :: [Text] -&gt; ConfStatement</li><li class="src short"><a href="#v:limit_conn_log_level_s">limit_conn_log_level_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Log_Level">Limit_Conn_Log_Level</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Limit_Conn_Log_Level">Limit_Conn_Log_Level</a> = <a href="#v:Limit_Conn_Log_Level">Limit_Conn_Log_Level</a> ConfStatement</li><li class="src short"><a href="#v:limit_conn_status">limit_conn_status</a> :: [Text] -&gt; ConfStatement</li><li class="src short"><a href="#v:limit_conn_status_s">limit_conn_status_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Status">Limit_Conn_Status</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Limit_Conn_Status">Limit_Conn_Status</a> = <a href="#v:Limit_Conn_Status">Limit_Conn_Status</a> ConfStatement</li><li class="src short"><a href="#v:limit_conn_zone">limit_conn_zone</a> :: [Text] -&gt; ConfStatement</li><li class="src short"><a href="#v:limit_conn_zone_s">limit_conn_zone_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Zone">Limit_Conn_Zone</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Limit_Conn_Zone">Limit_Conn_Zone</a> = <a href="#v:Limit_Conn_Zone">Limit_Conn_Zone</a> ConfStatement</li><li class="src short"><a href="#v:limit_zone">limit_zone</a> :: [Text] -&gt; ConfStatement</li><li class="src short"><a href="#v:limit_zone_s">limit_zone_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Zone">Limit_Zone</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Limit_Zone">Limit_Zone</a> = <a href="#v:Limit_Zone">Limit_Zone</a> ConfStatement</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:limit_conn" class="def">limit_conn</a> :: [Text] -&gt; ConfStatement</p><div class="doc"><p>Sets the shared memory zone and the maximum allowed number of connections for a given key value. When this limit is exceeded, the server will return the error in reply to a request. For example, the directives limit_conn_zone $binary_remote_addr zone=addr:10m; server { location <em>download</em> { limit_conn addr 1; } allow only one connection per an IP address at a time. In HTTP/2 and SPDY, each concurrent request is considered a separate connection.</p></div></div><div class="top"><p class="src"><a name="v:limit_conn_s" class="def">limit_conn_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn">Limit_Conn</a></p><div class="doc"><p>Safe version of <code><a href="Nginx_Ngx_Http_Limit_Conn_Module.html#v:limit_conn">limit_conn</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Limit_Conn" class="def">Limit_Conn</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Limit_Conn" class="def">Limit_Conn</a> ConfStatement</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Limit_Conn" class="caption collapser" onclick="toggleSection('i:Limit_Conn')">Instances</p><div id="section.i:Limit_Conn" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextServer">HasContextServer</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn">Limit_Conn</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextLocation">HasContextLocation</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn">Limit_Conn</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextHttp">HasContextHttp</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn">Limit_Conn</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:ToConfStatement">ToConfStatement</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn">Limit_Conn</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:limit_conn_log_level" class="def">limit_conn_log_level</a> :: [Text] -&gt; ConfStatement</p><div class="doc"><p>Sets the desired logging level for cases when the server limits the number of connections.</p></div></div><div class="top"><p class="src"><a name="v:limit_conn_log_level_s" class="def">limit_conn_log_level_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Log_Level">Limit_Conn_Log_Level</a></p><div class="doc"><p>Safe version of <code><a href="Nginx_Ngx_Http_Limit_Conn_Module.html#v:limit_conn_log_level">limit_conn_log_level</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Limit_Conn_Log_Level" class="def">Limit_Conn_Log_Level</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Limit_Conn_Log_Level" class="def">Limit_Conn_Log_Level</a> ConfStatement</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Limit_Conn_Log_Level" class="caption collapser" onclick="toggleSection('i:Limit_Conn_Log_Level')">Instances</p><div id="section.i:Limit_Conn_Log_Level" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextServer">HasContextServer</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Log_Level">Limit_Conn_Log_Level</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextLocation">HasContextLocation</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Log_Level">Limit_Conn_Log_Level</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextHttp">HasContextHttp</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Log_Level">Limit_Conn_Log_Level</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:ToConfStatement">ToConfStatement</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Log_Level">Limit_Conn_Log_Level</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:limit_conn_status" class="def">limit_conn_status</a> :: [Text] -&gt; ConfStatement</p><div class="doc"><p>Sets the status code to return in response to rejected requests.</p></div></div><div class="top"><p class="src"><a name="v:limit_conn_status_s" class="def">limit_conn_status_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Status">Limit_Conn_Status</a></p><div class="doc"><p>Safe version of <code><a href="Nginx_Ngx_Http_Limit_Conn_Module.html#v:limit_conn_status">limit_conn_status</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Limit_Conn_Status" class="def">Limit_Conn_Status</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Limit_Conn_Status" class="def">Limit_Conn_Status</a> ConfStatement</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Limit_Conn_Status" class="caption collapser" onclick="toggleSection('i:Limit_Conn_Status')">Instances</p><div id="section.i:Limit_Conn_Status" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextServer">HasContextServer</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Status">Limit_Conn_Status</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextLocation">HasContextLocation</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Status">Limit_Conn_Status</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextHttp">HasContextHttp</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Status">Limit_Conn_Status</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:ToConfStatement">ToConfStatement</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Status">Limit_Conn_Status</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:limit_conn_zone" class="def">limit_conn_zone</a> :: [Text] -&gt; ConfStatement</p><div class="doc"><p>Sets parameters for a shared memory zone that will keep states for various keys. In particular, the state includes the current number of connections. The key can contain text, variables, and their combination. Requests with an empty key value are not accounted. Prior to version 1.7.6, a key could contain exactly one variable. Usage example: limit_conn_zone $binary_remote_addr zone=addr:10m; Here, a client IP address serves as a key. Note that instead of $remote_addr, the $binary_remote_addr variable is used here. The $remote_addr variable&#8217;s size can vary from 7 to 15 bytes. The stored state occupies either 32 or 64 bytes of memory on 32-bit platforms and always 64 bytes on 64-bit platforms. The $binary_remote_addr variable&#8217;s size is always 4 bytes for IPv4 addresses or 16 bytes for IPv6 addresses. The stored state always occupies 32 or 64 bytes on 32-bit platforms and 64 bytes on 64-bit platforms. One megabyte zone can keep about 32 thousand 32-byte states or about 16 thousand 64-byte states. If the zone storage is exhausted, the server will return the error to all further requests.</p></div></div><div class="top"><p class="src"><a name="v:limit_conn_zone_s" class="def">limit_conn_zone_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Zone">Limit_Conn_Zone</a></p><div class="doc"><p>Safe version of <code><a href="Nginx_Ngx_Http_Limit_Conn_Module.html#v:limit_conn_zone">limit_conn_zone</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Limit_Conn_Zone" class="def">Limit_Conn_Zone</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Limit_Conn_Zone" class="def">Limit_Conn_Zone</a> ConfStatement</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Limit_Conn_Zone" class="caption collapser" onclick="toggleSection('i:Limit_Conn_Zone')">Instances</p><div id="section.i:Limit_Conn_Zone" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextHttp">HasContextHttp</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Zone">Limit_Conn_Zone</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:ToConfStatement">ToConfStatement</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Conn_Zone">Limit_Conn_Zone</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:limit_zone" class="def">limit_zone</a> :: [Text] -&gt; ConfStatement</p><div class="doc"><p>This directive was made obsolete in version 1.1.8 and was removed in version 1.7.6. An equivalent  directive with a changed syntax should be used instead: limit_conn_zone $variable zone=name:size;</p></div></div><div class="top"><p class="src"><a name="v:limit_zone_s" class="def">limit_zone_s</a> :: [Text] -&gt; <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Zone">Limit_Zone</a></p><div class="doc"><p>Safe version of <code><a href="Nginx_Ngx_Http_Limit_Conn_Module.html#v:limit_zone">limit_zone</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Limit_Zone" class="def">Limit_Zone</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Limit_Zone" class="def">Limit_Zone</a> ConfStatement</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Limit_Zone" class="caption collapser" onclick="toggleSection('i:Limit_Zone')">Instances</p><div id="section.i:Limit_Zone" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:HasContextHttp">HasContextHttp</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Zone">Limit_Zone</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Nginx_Common.html#t:ToConfStatement">ToConfStatement</a> <a href="Nginx_Ngx_Http_Limit_Conn_Module.html#t:Limit_Zone">Limit_Zone</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>